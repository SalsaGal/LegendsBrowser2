{{template "layout.html" .}}

{{define "title"}}{{ title .Name }}{{end}}

{{define "content"}}
<h3>{{ title .Name }}</h3>
<p>{{ .Type_ }}</p>

<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        {{- if gt (len .Structures) 0 }}
        <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#nav-structures" type="button" role="tab">Structures</button>
        {{- end}}
        {{- if gt (len .SiteProperties) 0 }}
        <button class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-site-properties" type="button" role="tab">Properties</button>
        {{- end}}
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    {{- if gt (len .Structures) 0 }}
    <div class="tab-pane active" id="nav-structures" role="tabpanel">
        <table class="table table-hover table-sm table-borderless object-table">
            <tr>
                <th>Name</th>
                <th width="100%">Type</th>
            </tr>
            {{- range .Structures }}
            <tr>
                <td>{{ structure $.Id .Id }}</td>
                <td>{{ .Type }}{{if .Ruin}} (ruin){{end}}</td>
            </tr>
            {{- end}}
        </table>
    </div>
    {{- end}}
    {{- if gt (len .SiteProperties) 0 }}
    <div class="tab-pane" id="nav-site-properties" role="tabpanel">
        <table class="table table-hover table-sm table-borderless object-table">
            <tr>
                <th>Type</th>
                <th width="100%">Name or Owner</th>
            </tr>
            {{- range .SiteProperties }}
            <tr>
                <td>{{ if ne .StructureId -1 }}{{ structure $.Id .StructureId }}{{else}}{{ .Type_ }}{{end}}</td>
                <td>{{ if ne .OwnerHfid -1 }}{{ hf .OwnerHfid }}{{else}}no
                    owner{{ end }}</td>
            </tr>
            {{- end}}
        </table>
    </div>
    {{- end}}
</div>

<h5 class="mt-3">Events</h5>
{{ template "events.html" events . }}

<p>{{ json . }}</p>
{{- end }}